(this.webpackJsonpsamplemern=this.webpackJsonpsamplemern||[]).push([[0],{130:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/car1.4c02d16e.jpeg"},209:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/burger1.3c923a12.jpeg"},282:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),s=(a(209),a(25)),i=a(18),l=a(13),u=a(8),d=a(33),p=a(12),j=a.n(p),b=a(20),h=a(80),m=a.n(h),g=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/auth/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/auth/signout"),{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),O={isAuthenticated:function(){return"undefined"!=typeof window&&(!!sessionStorage.getItem("jwt")&&JSON.parse(sessionStorage.getItem("jwt")))},authenticate:function(e,t){"undefined"!==typeof window&&sessionStorage.setItem("jwt",JSON.stringify(e)),t()},clearJWT:function(e){"undefined"!==typeof window&&sessionStorage.removeItem("jwt"),e(),x().then((function(e){document.cookie="t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}))}},f=a(324),v=a(326),y=a(327),w=a(48),k=a(153),N=a(330),C=a(182),A=a(361),T=a(325),I=a(166),S=a.n(I),F=a(84),B=a.n(F),D=a(167),P=a.n(D),_=a(165),E=a.n(_),U=(a(229),a(22)),R=(a(113),a(287),a(1)),z=(Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button:{margin:e.spacing(3)},search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(U.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(U.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),a(362)),L=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button:{margin:e.spacing(3)},avt:{display:"flex","& > *":{margin:e.spacing(1)}}}})),W=Object(i.h)((function(e){var t=e.history,a=L(),n=r.a.useState(null),c=Object(l.a)(n,2),o=c[0],s=c[1],i=Boolean(o);return Object(R.jsx)("div",{children:Object(R.jsx)(A.a,{p:1,m:1,children:Object(R.jsx)("div",{className:a.root,children:Object(R.jsx)(v.a,{position:"static",children:Object(R.jsxs)(y.a,{children:[Object(R.jsx)(k.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",children:Object(R.jsx)(E.a,{onClick:function(){return t.push("/")}})}),Object(R.jsx)(w.a,{variant:"h6",className:a.title,children:"Node-Gram"}),Object(R.jsxs)("div",{children:[Object(R.jsx)(T.a,{variant:"contained",color:"secondary",className:a.button,startIcon:Object(R.jsx)(S.a,{}),onClick:function(){return t.push("/user-list")},children:"Users"}),!O.isAuthenticated()&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(T.a,{variant:"contained",color:"#ffc107",className:a.button,startIcon:Object(R.jsx)(B.a,{}),onClick:function(){return t.push("/signup")},children:"SIGN-UP"}),Object(R.jsx)(T.a,{variant:"contained",color:"default",className:a.button,startIcon:Object(R.jsx)(P.a,{}),onClick:function(){return t.push("/signin")},children:"SIGN-IN"})]}),O.isAuthenticated()&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(T.a,{variant:"contained",color:"#ffc107",className:a.button,startIcon:Object(R.jsx)(B.a,{}),onClick:function(){return t.push("/")},children:"FEEDS"}),Object(R.jsx)(T.a,{variant:"contained",color:"#ffc107",className:a.button,startIcon:Object(R.jsx)(B.a,{}),onClick:function(){return t.push("/user/".concat(O.isAuthenticated().user._id))},children:"Profile"}),Object(R.jsx)(T.a,{variant:"contained",color:"#ffc107",className:a.button,startIcon:Object(R.jsx)(B.a,{}),onClick:function(){O.clearJWT((function(){return t.push("/")}))},children:"SIGNOUT"})]})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)(k.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:O.isAuthenticated()&&Object(R.jsx)(z.a,{alt:"remy sharp",src:"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(O.isAuthenticated().user._id)})}),Object(R.jsxs)(C.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){s(null)},children:[Object(R.jsx)(N.a,{onClick:function(){return t.push("/user/".concat(O.isAuthenticated().user._id))},children:"Profile"}),Object(R.jsx)(N.a,{onClick:function(){return t.push("/user/".concat(O.isAuthenticated().user._id))},children:"My account"})]})]})]})})})})})})),G=(a(4),a(331)),J=a(332),H=a(333),M=a(334),Y=a(335),q=(a(336),a(117)),K=a(66),Q=a.n(K),V=(a(168),a(169),a(83)),X=a.n(V),Z=(Object(f.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:q.a[500]}}})),a(338)),$=a(339),ee=a(337);function te(){return Object(R.jsxs)(w.a,{variant:"body2",color:"textSecondary",children:["Copyright \xa9 ",Object(R.jsx)(ee.a,{color:"inherit",href:"https://material-ui.com/",children:"Made with \u2764\ufe0f for a better Web"})," ",(new Date).getFullYear(),"."]})}var ae=Object(f.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"20vh",background:"red"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(3,2),marginTop:"auto",color:"white",backgroundColor:"dark"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]}}})),ne=function(){var e=ae();return Object(R.jsx)("div",{children:Object(R.jsxs)("div",{children:[Object(R.jsx)(Z.a,{}),Object(R.jsx)("footer",{className:e.footer,children:Object(R.jsxs)($.a,{maxWidth:"sm",children:[Object(R.jsx)(w.a,{variant:"body1",children:"Paul Ndam."}),Object(R.jsx)(te,{})]})})]})})},re=a(112),ce=a(344),oe=a(329),se=a(286),ie=a(340),le=a(342),ue=a(341),de=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users"),{method:"GET",signal:t});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("cannot fetch all users"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users/").concat(t.userId),{method:"GET",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a.t}});case 3:return r=e.sent,console.log("==== Response From Read in User-Api ===",r),e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users/").concat(t.userId),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer "+a.t},body:n});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(b.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users/").concat(t.userId),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a.t}});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users/follow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a.t)},body:JSON.stringify({userId:t.userId,followId:n})});case 3:return r=e.sent,console.log("====== Follow Response ====="),console.log(r),e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),console.log("FAIL FAIL FAIL FAIL FAIL TO FOLLOW");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users/unfollow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a.t},body:JSON.stringify({userId:t.userId,unfollowId:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/users/findpeople/").concat(t.userId),{method:"GET",signal:n,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a.t}});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://node-gram.herokuapp.com","/api/users/search-users"),{query:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=a(359),ve=a(170),ye=a.n(ve),we=Object(f.a)((function(e){return{root:e.mixins.gutters({padding:e.spacing(1),margin:0}),root2:Object(u.a)(Object(u.a)({},e.typography.button),{},{backgroundColor:e.palette.background,padding:e.spacing(1)}),title:{margin:"".concat(e.spacing(3),"px ").concat(e.spacing(1),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle,fontSize:"1em"},avatar:{marginRight:e.spacing(1)},follow:{right:e.spacing(2)},snack:{color:e.palette.protectedTitle},viewButton:{verticalAlign:"middle"}}})),ke=function(){var e=we(),t=Object(n.useState)({users:[],open:!1,followMessage:""}),a=Object(l.a)(t,2),r=a[0],c=a[1],o=O.isAuthenticated();Object(n.useEffect)((function(){var e=new AbortController,t=e.signal;return xe({userId:o.user._id},{t:o.token},t).then((function(e){console.log("--Data From FindPeople in useEffect---"),e&&e.error?console.log(e.error):c(Object(u.a)(Object(u.a)({},r),{},{users:e}))})),function(){e.abort()}}),[]);return Object(R.jsxs)("div",{children:[Object(R.jsxs)(re.a,{className:e.root,elevation:4,style:{backgroundColor:"#eeeeee"},children:[Object(R.jsx)("div",{className:e.root2,children:"Follow Suggestions"}),Object(R.jsx)(oe.a,{children:r.users.map((function(t,a){return Object(R.jsx)("span",{children:Object(R.jsxs)(se.a,{children:[Object(R.jsx)(ie.a,{className:e.avatar,children:Object(R.jsx)(z.a,{src:"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(t._id)})}),Object(R.jsx)(ue.a,{primary:t.name}),Object(R.jsxs)(le.a,{className:e.follow,children:[Object(R.jsx)(s.b,{to:"/user/"+t._id,children:Object(R.jsx)(k.a,{variant:"contained",color:"secondary",className:e.viewButton,children:Object(R.jsx)(ye.a,{})})}),Object(R.jsx)(T.a,{"aria-label":"Follow",variant:"contained",color:"primary",onClick:function(){var e,n;e=t,n=a,me({userId:o.user._id},{t:o.token},e._id).then((function(t){if(console.log("--- Data in click follow method in find people compo ---"),console.log(t),t.error)console.log(t.error);else{var a=r.users;a.splice(n,1),c(Object(u.a)(Object(u.a)({},r),{},{users:a,open:!0,followMessage:"Following ".concat(e.name)}))}}))},children:"Follow"})]})]})},a)}))})]}),Object(R.jsx)(fe.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:r.open,onClose:function(e,t){c(Object(u.a)(Object(u.a)({},r),{},{open:!1}))},autoHideDuration:6e3,message:Object(R.jsx)("span",{className:e.snack,children:r.followMessage})})]})},Ne=a(136),Ce=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/new/").concat(t.userId),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a.t)},body:n});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(b.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/by/").concat(t.userId),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a.t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("---error fetching list of for one user  api in the client side --"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Te=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/feed/").concat(t.userId),{method:"GET",signal:n,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a.t}});case 3:return r=e.sent,console.log("---response from getting news feed ---",r),e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.log("---error fetching list new feed from post api in the client side --"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(b.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/").concat(t.postId),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a.t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("---error removing post from post api in the client side --"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/like"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a.t)},body:JSON.stringify({userId:t.userId,postId:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("---error liking post from post api in the client side --"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/unlike"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a.t},body:JSON.stringify({userId:t.userId,postId:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n,r){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/comment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a.t)},body:JSON.stringify({userId:t.userId,postId:n,comment:r})});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("---error commenting post from post api in the client side --"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),De=function(){var e=Object(b.a)(j.a.mark((function e(t,a,n,r){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://node-gram.herokuapp.com","/api/posts/uncomment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a.t)},body:JSON.stringify({userId:t.userId,postId:n,comment:r})});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log("---error un-commenting post from post api in the client side --"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Pe=a(73),_e=a.n(Pe),Ee=a(171),Ue=a.n(Ee),Re=a(172),ze=a.n(Re),Le=a(343),We=a(355),Ge=Object(f.a)((function(e){return{cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},smallAvatar:{width:25,height:25},commentField:{width:"96%"},commentText:{backgroundColor:"white",padding:e.spacing(1),margin:"2px ".concat(e.spacing(2),"px 2px 2px")},commentDate:{display:"block",color:"gray",fontSize:"0.8em"},commentDelete:{fontSize:"1.6em",verticalAlign:"middle",cursor:"pointer"},textDec:{textDecoration:"none"}}})),Je=function(e){var t=Ge(),a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1],i=O.isAuthenticated(),u=function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(13!==a.keyCode||!a.target.value){t.next=8;break}return a.preventDefault(),t.next=4,Be({userId:i.user._id},{t:i.token},e.postId,{text:c});case 4:n=t.sent,console.log("--- Comment data ---"),console.log(n),n.error?console.log(n.error):(o(""),e.updateComments(n.comments));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(a){return Object(R.jsxs)("p",{className:t.commentText,children:[Object(R.jsx)(s.b,{to:"/user/".concat(a.postedBy._id),className:t.textDec,children:a.postedBy.name}),Object(R.jsx)("br",{}),a.text,Object(R.jsxs)("span",{className:t.commentDate,children:[new Date(a.created).toDateString()," |",O.isAuthenticated().user._id===a.postedBy._id&&Object(R.jsx)(_e.a,{onClick:(n=a,function(t){De({userId:i.user._id},{t:i.token},e.postId,n).then((function(t){console.log("--- delete Comment data --- "),console.log(t),t.error?console.log(t.error):e.updateComments(t.comments)}))}),className:t.commentDelete,color:"secondary",children:"Delete"})]})]});var n};return Object(R.jsxs)("div",{children:[Object(R.jsx)(J.a,{avatar:Object(R.jsx)(z.a,{className:t.smallAvatar,src:"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(O.isAuthenticated().user._id)}),title:Object(R.jsx)(We.a,{onKeyDown:u,multiline:!0,value:c,onChange:function(e){o(e.target.value)},placeholder:"Write something ...",className:t.commentField,margin:"normal"}),className:t.cardHeader}),e.comments.map((function(e,a){return Object(R.jsx)(J.a,{avatar:Object(R.jsx)(z.a,{className:t.smallAvatar,src:"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(e.postedBy._id)}),title:d(e),className:t.cardHeader},a)}))]})},He=Object(f.a)((function(e){return{card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(0, 0, 0, 0.06)"},cardContent:{backgroundColor:"white",padding:"".concat(e.spacing(2),"px 0px")},cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},text:{margin:e.spacing(2)},photo:{textAlign:"center",backgroundColor:"#FFFFFF",padding:e.spacing(1)},media:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},button:{margin:e.spacing(1)}}})),Me=function(e){var t,a=He(),r=Object(i.g)(),c=O.isAuthenticated(),o=Object(n.useState)({like:(t=e.post.likes,-1!==t.indexOf(c.user._id)),likes:e.post.likes.length,comments:e.post.comments}),s=Object(l.a)(o,2),d=s[0],p=s[1],j=function(){(d.like?Fe:Se)({userId:c.user._id},{t:c.token},e.post._id).then((function(e){console.log("-- Checking Unliking data "),console.log(e),e.error?console.log(e.error):p(Object(u.a)(Object(u.a)({},d),{},{like:!d.like,likes:e.likes.length}))}))};return Object(R.jsx)("div",{children:Object(R.jsxs)(G.a,{className:a.card,style:{backgroundColor:"#eeeeee"},children:[Object(R.jsx)(J.a,{style:{backgroundColor:"#F6F6F6"},avatar:Object(R.jsx)(z.a,{src:"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(e.post.postedBy._id)}),action:e.post.postedBy._id===O.isAuthenticated().user._id&&Object(R.jsx)(k.a,{onClick:function(){Ie({postId:e.post._id},{t:c.token}).then((function(t){console.log("--- deleting data post in delete post method --"),console.log(t),t.error?console.log(t.error):e.onRemove(e.post)}))},color:"secondary",children:Object(R.jsx)(_e.a,{})}),title:Object(R.jsx)(T.a,{variant:"contained",color:"#fff",className:a.button,onClick:function(){return r.push("/user/".concat(e.post.postedBy._id))},children:e.post.postedBy.name}),subheader:new Date(e.post.created).toDateString(),className:a.cardHeader}),Object(R.jsxs)(M.a,{className:a.cardContent,children:[Object(R.jsx)(w.a,{component:"p",className:a.text,children:e.post.text}),e.post.photo&&Object(R.jsx)("div",{className:a.photo,children:Object(R.jsx)("img",{className:a.media,src:"".concat("https://node-gram.herokuapp.com","/api/posts/photo/").concat(e.post._id),alt:"pict"})})]}),Object(R.jsxs)(Y.a,{children:[d.like?Object(R.jsx)(k.a,{onClick:j,className:a.button,"aria-label":"Like",color:"secondary",children:Object(R.jsx)(Q.a,{})}):Object(R.jsx)(k.a,{onClick:j,className:a.button,"aria-label":"Unlike",color:"secondary",children:Object(R.jsx)(Ue.a,{})})," ",Object(R.jsx)("span",{children:d.likes}),Object(R.jsx)(k.a,{className:a.button,"aria-label":"Comment",children:Object(R.jsx)(ze.a,{})})," ",Object(R.jsx)("span",{children:d.comments.length})]}),Object(R.jsx)(Le.a,{}),Object(R.jsx)(Je,{postId:e.post._id,comments:d.comments,updateComments:function(e){p(Object(u.a)(Object(u.a)({},d),{},{comments:e}))}})]})})},Ye=a(345),qe=Object(f.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},flexGrow:1,display:"flex"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,background:"white",height:"100%",width:"100%"}}})),Ke=function(){var e=qe();return Object(R.jsx)("div",{className:e.root,children:Object(R.jsx)(ce.a,{item:!0,xs:12,container:!0,spacing:3,children:Object(R.jsxs)(re.a,{className:e.paper,children:["Fetching Data, Please Be Patient....",Object(R.jsx)(Ye.a,{}),Object(R.jsx)(Ye.a,{color:"secondary"})]})})})},Qe=function(e){return Object(R.jsx)("div",{style:{marginTop:"24px"},children:e.posts.map((function(t,a){return Object(R.jsx)(Me,{post:t,onRemove:e.removeUpdate},a)}))})},Ve=a(346),Xe=a(173),Ze=a.n(Xe),$e=Object(f.a)((function(e){return{root:{backgroundColor:"#efefef",padding:"".concat(e.spacing(3),"px 0px 1px")},card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(65, 150, 136, 0.09)",boxShadow:"none"},cardContent:{backgroundColor:"white",paddingTop:0,paddingBottom:0},cardHeader:{paddingTop:8,paddingBottom:8},photoButton:{height:30,marginBottom:5},input:{display:"none"},textField:{marginLeft:e.spacing(2),marginRight:e.spacing(2),width:"90%"},submit:{margin:e.spacing(2)},filename:{verticalAlign:"super"}}})),et=function(e){var t=$e(),a=Object(n.useState)({text:"",photo:"",error:"",user:{}}),r=Object(l.a)(a,2),c=r[0],o=r[1],s=O.isAuthenticated();Object(n.useEffect)((function(){o(Object(u.a)(Object(u.a)({},c),{},{user:O.isAuthenticated().user}))}),[]);var i=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;o(Object(u.a)(Object(u.a)({},c),{},Object(d.a)({},e,a)))}},p=c.user._id&&"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(c.user._id);return Object(R.jsx)("div",{className:t.root,children:Object(R.jsxs)(G.a,{className:t.card,children:[Object(R.jsx)(J.a,{avatar:Object(R.jsx)(z.a,{src:p}),title:c.user.name,className:t.cardHeader}),Object(R.jsxs)(M.a,{className:t.cardContent,children:[Object(R.jsx)(We.a,{placeholder:"say something ...",multiline:!0,rows:"3",value:c.text,onChange:i("text"),className:t.textField,margin:"normal"}),Object(R.jsx)("input",{accept:"image/*",onChange:i("photo"),className:t.input,id:"icon-button-file",type:"file"}),Object(R.jsx)("label",{htmlFor:"icon-button-file",children:Object(R.jsx)(k.a,{color:"secondary",className:t.photoButton,component:"span",children:Object(R.jsx)(Ze.a,{})})})," ",Object(R.jsx)("span",{className:t.filename,children:c.photo?c.photo.name:""}),c.error&&Object(R.jsxs)(w.a,{component:"p",color:"error",children:[Object(R.jsx)(Ve.a,{color:"error",className:t.error,children:"error"}),c.error]})]}),Object(R.jsx)(Y.a,{children:Object(R.jsx)(T.a,{color:"primary",variant:"contained",disabled:""===c.text,onClick:function(){var t=new FormData;t.append("text",c.text),t.append("photo",c.photo),Ce({userId:s.user._id},{t:s.token},t).then((function(t){t.error?o(Object(u.a)(Object(u.a)({},c),{},{error:t.error})):(o(Object(u.a)(Object(u.a)({},c),{},{text:"",photo:""})),e.addUpdate(t))}))},className:t.submit,children:"POST"})})]})})},tt=Object(f.a)((function(e){return{card:{margin:"auto",paddingTop:0,paddingBottom:e.spacing(3)},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle,fontSize:"1em"},media:{minHeight:330},root3:Object(u.a)(Object(u.a)({},e.typography.button),{},{padding:e.spacing(1),color:"#fff"})}})),at=function(){var e=tt(),t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),i=s[0],u=s[1],d=O.isAuthenticated();Object(n.useEffect)((function(){var e=new AbortController,t=e.signal;return u(!0),Te({userId:d.user._id},{t:d.token},t).then((function(e){console.log("--- data from loading posts from useEffect in News Feed component",e),e.error?console.log(e.error):(u(!1),c(e))})),function(){e.abort()}}),[]);return Object(R.jsxs)(G.a,{className:e.card,style:{backgroundColor:"#000000"},children:[Object(R.jsx)("div",{className:e.root3,children:"NewsFeed"}),Object(R.jsx)(Le.a,{}),Object(R.jsx)(et,{addUpdate:function(e){var t=Object(Ne.a)(r);t.unshift(e),c(t)}}),Object(R.jsx)(Le.a,{}),i?Object(R.jsx)(Ke,{}):Object(R.jsx)(Qe,{removeUpdate:function(e){var t=Object(Ne.a)(r),a=t.indexOf(e);t.splice(a,1),c(t)},posts:r})]})},nt=a(347),rt=a(358),ct=Object(f.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),marginBottom:e.spacing(5)},cardDetails:{flex:1},cardMedia:{width:160,background:"red"},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px"),color:e.palette.text.secondary},media:{height:0,paddingTop:"56.25%"},credit:{padding:10,textAlign:"right",backgroundColor:"#ededed",borderBottom:"1px solid #d0d0d0","& a":{color:"#3f4771"}},mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://cdn.hipwallpaper.com/i/0/88/OvfDhg.jpg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"100%"},secondaryFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://cff2.earth.com/uploads/2021/02/26123317/shutterstock_13306689503-1-scaled.jpg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"100%"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(d.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0}),cover:{width:151},avatar:{backgroundColor:q.a[500]},typoText:Object(u.a)(Object(u.a)({},e.typography.button),{},{padding:e.spacing(1),alignContent:"center",background:"#c2185b",textAlign:"center",color:"white"})}})),ot=function(e){var t=e.history,r=ct(),c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){i(O.isAuthenticated());var e=t.listen((function(){i(O.isAuthenticated())}));return function(){return e()}}),[]),Object(R.jsxs)("div",{className:r.root,children:[!s&&Object(R.jsxs)(ce.a,{container:!0,spacing:3,children:[Object(R.jsx)(ce.a,{item:!0,xs:12,children:Object(R.jsx)(re.a,{className:r.paper,children:Object(R.jsx)(W,{})})}),Object(R.jsx)(ce.a,{item:!0,xs:12,children:Object(R.jsxs)(re.a,{className:r.mainFeaturedPost,children:[Object(R.jsx)("img",{style:{display:"none",height:"100%"},src:"https://cdn.hipwallpaper.com/i/0/88/OvfDhg.jpg",alt:"imageTextP"}),Object(R.jsx)("div",{className:r.overlay}),Object(R.jsx)(ce.a,{container:!0,children:Object(R.jsx)(ce.a,{item:!0,md:6,children:Object(R.jsxs)("div",{className:r.mainFeaturedPostContent,children:[Object(R.jsx)(w.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0,children:"Let's socialize in Node-Gram"}),Object(R.jsx)(w.a,{variant:"h5",color:"inherit",paragraph:!0,children:"A social community network, designed, architectured and build with Nodejs and Javascript advancded feautures. Ofcourse, don't forget Reactjs in the play as well, for a smooth and fun social communication platform."}),Object(R.jsx)(ee.a,{variant:"subtitle1",href:"",color:"#e91e63",children:"check it out"})]})})})]})}),Object(R.jsx)(ce.a,{item:!0,xs:12,sm:6,children:Object(R.jsx)(nt.a,{component:"a",href:"#",children:Object(R.jsxs)(G.a,{className:r.card,children:[Object(R.jsx)("div",{className:r.cardDetails,children:Object(R.jsxs)(M.a,{children:[Object(R.jsx)("div",{className:r.typoText,children:"Make a post"}),Object(R.jsx)(w.a,{variant:"subtitle1",color:"textSecondary",children:(new Date).toDateString()}),Object(R.jsx)(w.a,{variant:"subtitle1",paragraph:!0,children:"Share your extra-ordinary thought,ideas and moments with your followers"}),Object(R.jsx)(w.a,{variant:"subtitle1",color:"primary",children:"See all users and check out their profiles. Follow a list of users you prefer and unfollow as many as you may want."})]})}),Object(R.jsx)(rt.a,{xsDown:!0,children:Object(R.jsx)(H.a,{className:r.cover,image:a(130),title:"All under your control"})})]})})}),Object(R.jsx)(ce.a,{item:!0,xs:12,md:6,children:Object(R.jsx)(nt.a,{component:"a",href:"#",children:Object(R.jsxs)(G.a,{className:r.card,children:[Object(R.jsx)("div",{className:r.cardDetails,children:Object(R.jsxs)(M.a,{children:[Object(R.jsx)("div",{className:r.typoText,children:"Default User Access"}),Object(R.jsx)(w.a,{variant:"subtitle1",color:"textSecondary",children:(new Date).toDateString()}),Object(R.jsx)(w.a,{variant:"subtitle1",paragraph:!0,children:"Email: node@gmail.com"}),Object(R.jsx)(w.a,{variant:"subtitle1",paragraph:!0,children:"Password:123456"}),Object(R.jsx)(w.a,{variant:"subtitle1",paragraph:!0,color:"primary",children:"Use the credentials above to get started quickly. Or you can create your own unique account, just sign-up."})]})}),Object(R.jsx)(rt.a,{xsDown:!0,children:Object(R.jsx)(H.a,{style:{height:"100%"},className:r.cardMedia,image:"https://images.pexels.com/photos/1542252/pexels-photo-1542252.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",title:"All under your control"})})]})})}),Object(R.jsx)(ce.a,{item:!0,xs:12,sm:3,children:Object(R.jsxs)(G.a,{className:r.root,children:[Object(R.jsx)(J.a,{avatar:Object(R.jsx)(z.a,{"aria-label":"recipe",className:r.avatar,children:"R"}),action:Object(R.jsx)(k.a,{"aria-label":"settings",children:Object(R.jsx)(X.a,{})}),title:"Roberto Carlos",subheader:"September 14, 2016"}),Object(R.jsx)(H.a,{className:r.media,image:a(130).default,title:"Paella dish"}),Object(R.jsx)(M.a,{children:Object(R.jsx)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:"Guys, check out my new Mercedes Benz AMG GT Coupe. It's fast , smooth and comfortable.The all new 2020 is in my drive way \u2764\ufe0f\u2764\ufe0f\ud83c\udf8a"})}),Object(R.jsx)(Y.a,{disableSpacing:!0,children:Object(R.jsx)(k.a,{"aria-label":"add to favorites",children:Object(R.jsx)(Q.a,{})})})]})}),Object(R.jsx)(ce.a,{item:!0,xs:12,sm:3,children:Object(R.jsxs)(G.a,{className:r.root,children:[Object(R.jsx)(J.a,{avatar:Object(R.jsx)(z.a,{"aria-label":"recipe",className:r.avatar,children:"F"}),action:Object(R.jsx)(k.a,{"aria-label":"settings",children:Object(R.jsx)(X.a,{})}),title:"Food Guy",subheader:"September 14, 2016"}),Object(R.jsx)(H.a,{className:r.media,image:a(267).default,title:"Paella dish"}),Object(R.jsx)(M.a,{children:Object(R.jsx)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:"Nice juicy, burger. How many of this can you eat \ud83e\udd14 ?.I can eat 20 \ud83e\udd23 \ud83e\udd23. Share your thoughts in the comments."})}),Object(R.jsx)(Y.a,{disableSpacing:!0,children:Object(R.jsx)(k.a,{"aria-label":"add to favorites",children:Object(R.jsx)(Q.a,{})})})]})}),Object(R.jsx)(ce.a,{item:!0,xs:12,sm:6,children:Object(R.jsx)(re.a,{className:r.secondaryFeaturedPost,children:Object(R.jsx)("img",{style:{display:"none",height:"100%"},src:"https://cff2.earth.com/uploads/2021/02/26123317/shutterstock_13306689503-1-scaled.jpg",alt:"imageTextP"})})}),Object(R.jsx)(ce.a,{item:!0,xs:12,children:Object(R.jsx)(re.a,{className:r.paper,children:Object(R.jsx)(ne,{})})})]}),s&&Object(R.jsxs)(ce.a,{container:!0,spacing:3,children:[Object(R.jsx)(ce.a,{item:!0,xs:12,children:Object(R.jsx)(re.a,{className:r.paper,children:Object(R.jsx)(W,{})})}),Object(R.jsx)(ce.a,{item:!0,xs:12,sm:6,children:Object(R.jsx)(re.a,{style:{backgroundColor:"#000000"},className:r.paper,children:Object(R.jsx)(at,{})})}),Object(R.jsx)(ce.a,{item:!0,xs:12,sm:6,children:Object(R.jsx)(re.a,{style:{backgroundColor:"#000000"},className:r.paper,children:Object(R.jsx)(ke,{})})}),Object(R.jsx)(ce.a,{item:!0,xs:12,children:Object(R.jsx)(re.a,{className:r.paper,children:Object(R.jsx)(ne,{})})})]})]})},st=a(116),it=a.p+"static/media/crazyfrog.adb04dfc.png",lt=Object(f.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),ut=function(e){var t=e.name,a=e.email,n=e._id,c=e.following,o=e.followers,i=(e.photo,e.about,lt()),l=n&&"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(n,"?").concat((new Date).getTime());return Object(R.jsx)("div",{children:Object(R.jsxs)(oe.a,{className:i.root,children:[Object(R.jsxs)(se.a,{alignItems:"flex-start",children:[Object(R.jsx)(s.b,{to:"/user/".concat(n),children:Object(R.jsx)(ie.a,{children:Object(R.jsx)(z.a,{alt:"Remy Sharp",src:l})})}),Object(R.jsx)(ue.a,{primary:"Followers: ".concat(o.length),secondary:Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)(w.a,{component:"span",variant:"body2",className:i.inline,color:"textPrimary",children:"Name: ".concat(t)}),Object(R.jsx)("br",{}),"Email: ".concat(a),Object(R.jsx)("br",{}),"Following: ".concat(c.length)]})})]}),Object(R.jsx)(Le.a,{variant:"inset",component:"li"})]})})},dt=["id"],pt=Object(f.a)((function(e){return{root:Object(u.a)(Object(u.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(5),display:"flex","& > *":{margin:e.spacing(1),width:e.spacing(16)||"100%",maxWidth:500,height:e.spacing(16)}}),root2:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"},texthead:Object(u.a)(Object(u.a)({},e.typography.button),{},{padding:e.spacing(1),alignContent:"center",background:"white",textAlign:"center"})}})),jt=function(e){var t=pt(),a=Object(n.useState)([]),r=Object(l.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),d=i[0],p=i[1];return Object(n.useEffect)((function(){var e=new AbortController,t=e.signal;return p(!0),pe(t).then((function(e){console.log(e),e&&e.error?console.log(e.error):(p(!1),o(e))})),function(){e.abort()}}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)(W,{}),Object(R.jsx)("div",{children:Object(R.jsxs)(re.a,{elevation:4,variant:"outlined",children:[Object(R.jsx)("div",{className:t.texthead,children:"All Users"}),";",d?Object(R.jsx)(Ke,{}):Object(R.jsx)(R.Fragment,{children:c.map((function(e){var t=e.id,a=Object(st.a)(e,dt);return Object(R.jsx)(ut,Object(u.a)({},a),t)}))})]})}),Object(R.jsx)(ne,{})]})},bt=a(360),ht=a(351),mt=a(349),gt=a(350),xt=a(348),Ot=Object(f.a)((function(e){return{card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},error:{verticalAlign:"middle"},title:{marginTop:e.spacing(2),color:e.palette.openTitle},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginBottom:e.spacing(2)}}})),ft=function(){var e=Ot(),t=Object(i.g)(),a=Object(n.useState)({name:"",email:"",password:"",open:!1,error:""}),r=Object(l.a)(a,2),c=r[0],o=r[1],s=function(e){return function(t){o(Object(u.a)(Object(u.a)({},c),{},Object(d.a)({},e,t.target.value)))}};return Object(R.jsxs)("div",{children:[Object(R.jsx)(W,{}),Object(R.jsxs)(G.a,{className:e.card,children:[Object(R.jsxs)(M.a,{children:[Object(R.jsx)(w.a,{variant:"h6",className:e.title,children:"Sign Up"}),Object(R.jsx)(We.a,{id:"name",label:"Name",className:e.textField,value:c.name,onChange:s("name"),margin:"normal"}),Object(R.jsx)("br",{}),Object(R.jsx)(We.a,{id:"email",type:"email",label:"Email",className:e.textField,value:c.email,onChange:s("email"),margin:"normal"}),Object(R.jsx)("br",{}),Object(R.jsx)(We.a,{id:"password",type:"password",label:"Password",className:e.textField,value:c.password,onChange:s("password"),margin:"normal"}),Object(R.jsx)("br",{})," ",c.error&&Object(R.jsxs)(w.a,{component:"p",color:"error",children:[Object(R.jsx)(Ve.a,{color:"error",className:e.error,children:"error"}),c.error]})]}),Object(R.jsx)(Y.a,{children:Object(R.jsx)(T.a,{color:"primary",variant:"contained",onClick:function(){var e={name:c.name||void 0,email:c.email||void 0,password:c.password||void 0};de(e).then((function(e){e.error?o(Object(u.a)(Object(u.a)({},c),{},{error:e.error})):o(Object(u.a)(Object(u.a)({},c),{},{error:"",open:!0}))}))},className:e.submit,children:"Sign-Up"})})]}),Object(R.jsxs)(bt.a,{open:c.open,disableBackdropClick:!0,children:[Object(R.jsx)(xt.a,{children:"New Account"}),Object(R.jsx)(mt.a,{children:Object(R.jsx)(gt.a,{children:"Account created successfully \ud83e\udd20 ."})}),Object(R.jsx)(ht.a,{children:Object(R.jsx)(T.a,{color:"primary",autoFocus:"autoFocus",variant:"contained",onClick:function(){return t.push("/signin")},children:"Sign In"})})]})]})},vt=Object(f.a)((function(e){return{card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},error:{verticalAlign:"middle"},title:{marginTop:e.spacing(2),color:e.palette.openTitle},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginBottom:e.spacing(2)}}})),yt=function(e){var t=vt(),a=Object(n.useState)({email:"",password:"",error:"",redirectToReferrer:!1}),r=Object(l.a)(a,2),c=r[0],o=r[1],s=function(e){return function(t){o(Object(u.a)(Object(u.a)({},c),{},Object(d.a)({},e,t.target.value)))}},p=(e.location.state||{from:{pathname:"/"}}).from;return c.redirectToReferrer?Object(R.jsx)(i.a,{to:p}):Object(R.jsxs)("div",{children:[Object(R.jsx)(W,{}),Object(R.jsxs)(G.a,{className:t.card,children:[Object(R.jsxs)(M.a,{children:[Object(R.jsx)(w.a,{variant:"h6",className:t.title,children:"Sign In"}),Object(R.jsx)(We.a,{id:"email",type:"email",label:"Email",className:t.textField,value:c.email,onChange:s("email"),margin:"normal"}),Object(R.jsx)("br",{}),Object(R.jsx)(We.a,{id:"password",type:"password",label:"Password",className:t.textField,value:c.password,onChange:s("password"),margin:"normal"}),Object(R.jsx)("br",{})," ",c.error&&Object(R.jsxs)(w.a,{component:"p",color:"error",children:[Object(R.jsx)(Ve.a,{color:"error",className:t.error,children:"error"}),c.error]})]}),Object(R.jsx)(Y.a,{children:Object(R.jsx)(T.a,{color:"primary",variant:"contained",onClick:function(){var e={email:c.email||void 0,password:c.password||void 0};g(e).then((function(e){e.error?o(Object(u.a)(Object(u.a)({},c),{},{error:e.error})):O.authenticate(e,(function(){o(Object(u.a)(Object(u.a)({},c),{},{error:"",redirectToReferrer:!0}))}))}))},className:t.submit,children:"Sign-In"})})]})]})},wt=a(176),kt=a.n(wt),Nt=a(175),Ct=a.n(Nt),At=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),u=s[0],d=s[1],p=O.isAuthenticated(),j=function(){c(!1)};return u?Object(R.jsx)(i.a,{to:"/"}):Object(R.jsxs)("span",{children:[Object(R.jsx)(k.a,{"aria-label":"Delete",onClick:function(){c(!0)},color:"secondary",children:Object(R.jsx)(_e.a,{})}),Object(R.jsxs)(bt.a,{open:r,onClose:j,children:[Object(R.jsx)(xt.a,{children:"Delete Account"}),Object(R.jsx)(mt.a,{children:Object(R.jsx)(gt.a,{children:"Are You Sure About Deleting Your Account \ud83e\udd14"})}),Object(R.jsxs)(ht.a,{children:[Object(R.jsx)(T.a,{onClick:j,color:"primary",children:"Cancel"}),Object(R.jsx)(T.a,{onClick:function(){he({userId:e.userId},{t:p.token}).then((function(e){e&&e.error?console.log(e.error):(O.clearJWT((function(){return console.log("You Just Deleted Your Account")})),d(!0))}))},color:"secondary",autoFocus:"autoFocus",children:"Confirm"})]})]})]})},Tt=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button:{margin:e.spacing(3)}}})),It=function(e){var t=Tt();return Object(R.jsx)("div",{children:e.following?Object(R.jsx)(T.a,{className:t.button,variant:"contained",color:"secondary",onClick:function(){e.onButtonClick(ge)},children:"Unfollow"}):Object(R.jsx)(T.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){e.onButtonClick(me)},children:"Follow"})})},St=a(356),Ft=a(354),Bt=a(352),Dt=a(353),Pt=Object(f.a)((function(e){return{root:{paddingTop:e.spacing(2),display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",background:e.palette.background.paper},root2:{"& > *":{margin:e.spacing(1)}},bigAvatar:{width:60,height:60,margin:"auto"},gridList:{width:500,height:220},tileText:{textAlign:"center",underline:"none",marginTop:10,cursor:"pointer"},button:{margin:e.spacing(3)},textDec:{textDecoration:"none"}}})),_t=function(e){var t=Pt();return Object(R.jsx)("div",{className:t.root,children:Object(R.jsx)(Bt.a,{cellHeight:160,className:t.gridList,cols:4,children:e.people.map((function(e,a){return Object(R.jsx)(Dt.a,{style:{height:120},children:Object(R.jsxs)(s.b,{to:"/user/".concat(e._id),className:t.textDec,children:[Object(R.jsx)(z.a,{src:"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(e._id),className:t.bigAvatar}),Object(R.jsx)(w.a,{className:t.tileText,style:{color:"#333"},children:e.name})]})},a)}))})})},Et=Object(f.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),Ut=function(e){Et();var t=Object(n.useState)(0),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(R.jsxs)("div",{children:[Object(R.jsx)(v.a,{position:"static",color:"default",children:Object(R.jsxs)(St.a,{value:r,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullwidth",children:[Object(R.jsx)(Ft.a,{label:"Posts"}),Object(R.jsx)(Ft.a,{label:"Following"}),Object(R.jsx)(Ft.a,{label:"Followers"})]})}),0===r&&Object(R.jsx)(Rt,{children:Object(R.jsx)(Qe,{removeUpdate:e.removePostUpdate,posts:e.posts})}),1===r&&Object(R.jsx)(Rt,{children:Object(R.jsx)(_t,{people:e.user.following})}),2===r&&Object(R.jsx)(Rt,{children:Object(R.jsx)(_t,{people:e.user.followers})})]})},Rt=function(e){return Object(R.jsx)(w.a,{component:"div",style:{padding:16},children:e.children})},zt=Object(f.a)((function(e){return{root:e.mixins.gutters({maxWidth:600,margin:"auto",padding:e.spacing(3),marginTop:e.spacing(5)}),title:{marginTop:e.spacing(3),color:e.palette.protectedTitle},textDec:{textDecoration:"none"}}})),Lt=function(e){var t,a=e.match,r=zt(),c=Object(n.useState)({user:{following:[],followers:[]},redirectToSignin:!1,following:!1}),o=Object(l.a)(c,2),d=o[0],p=o[1],j=Object(n.useState)([]),b=Object(l.a)(j,2),h=b[0],m=b[1],g=Object(n.useState)(!1),x=Object(l.a)(g,2),f=x[0],v=x[1],y=O.isAuthenticated();Object(n.useEffect)((function(){var e=new AbortController,t=e.signal;return v(!0),je({userId:a.params.userId},{t:y.token},t).then((function(e){if(console.log("--- Data In UseEffect ---"),console.log(e),e&&e.error)p(Object(u.a)(Object(u.a)({},d),{},{redirectToSignin:!0}));else{v(!1);var t=N(e);console.log("-----Checking following in UseEffect----"),console.log(t),p(Object(u.a)(Object(u.a)({},d),{},{user:e,following:t})),C(e._id)}})),function(){e.abort()}}),[a.params.userId]);var N=function(e){var t=e.followers.some((function(e){return e._id===y.user._id}));return console.log("---- match ---"),console.log(t),t},C=function(e){v(!0),Ae({userId:e},{t:y.token}).then((function(e){console.log("-- post of a unique user in their profile --"),console.log(e),e.error?console.log(e.error):(v(!1),m(e))}))},A=d.user._id&&"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(d.user._id,"?").concat((new Date).getTime());return d.redirectToSignIn?Object(R.jsx)(i.a,{to:"/signin"}):Object(R.jsxs)("div",{children:[Object(R.jsx)(W,{}),f?Object(R.jsx)(Ke,{}):Object(R.jsxs)(re.a,{className:r.root,elevation:4,children:[Object(R.jsx)(w.a,{variant:"h6",className:r.title,children:1===d.user.followers.length?"".concat(d.user.followers.length," Follower"):"".concat(d.user.followers.length," Followers")}),Object(R.jsxs)(oe.a,{dense:!0,children:[Object(R.jsxs)(se.a,{children:[Object(R.jsx)(ie.a,{children:Object(R.jsx)(z.a,{src:A,children:Object(R.jsx)(Ct.a,{})})}),Object(R.jsx)(ue.a,{primary:d.user.name,secondary:d.user.email})," ",Object(R.jsx)("br",{}),O.isAuthenticated().user&&O.isAuthenticated().user._id===d.user._id?Object(R.jsxs)(le.a,{children:[Object(R.jsx)(s.b,{to:"/user/edit/".concat(d.user._id),className:r.textDec,children:Object(R.jsx)(k.a,{"aria-label":"Edit",color:"primary",children:Object(R.jsx)(kt.a,{})})}),Object(R.jsx)(At,{userId:d.user._id})]}):Object(R.jsx)(It,{following:d.following,onButtonClick:function(e){var t=O.isAuthenticated();console.log("--- JWT From ClickFollow button in Profile ---"),console.log(t),e({userId:t.user._id},{t:t.token},d.user._id).then((function(e){console.log("---Data From ClickFollowButton in Profile Component ----"),console.log(e),e.error?(p(Object(u.a)(Object(u.a)({},d),{},{error:e.error})),console.log(e.error)):p(Object(u.a)(Object(u.a)({},d),{},{user:e,following:!d.following}))}))}})]}),Object(R.jsx)(Le.a,{}),Object(R.jsx)(se.a,{children:Object(R.jsx)(ue.a,{primary:"About: ".concat("undefined"===d.user.about?"\ud83e\udd20":d.user.about)})}),Object(R.jsx)(Le.a,{}),Object(R.jsx)(se.a,{children:Object(R.jsx)(ue.a,{primary:"Joined: "+new Date(null===(t=d.user)||void 0===t?void 0:t.created).toDateString()})})]}),Object(R.jsx)(Ut,{user:d.user,posts:h,removePostUpdate:function(e){var t=h,a=t.indexOf(e);t.splice(a,1),m(t)}})]}),Object(R.jsx)(ne,{})]})};function Wt(){return Object(R.jsxs)(w.a,{variant:"body2",color:"textSecondary",children:["Copyright \xa9 ",Object(R.jsx)(ee.a,{color:"inherit",href:"https://material-ui.com/",children:"Made with \u2764\ufe0f for a better Web"})," ",(new Date).getFullYear(),"."]})}var Gt=Object(f.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(3,2),marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]}}})),Jt=function(){var e=Gt();return Object(R.jsxs)("div",{children:[Object(R.jsx)(W,{}),Object(R.jsxs)("div",{className:e.root,children:[Object(R.jsx)(Z.a,{}),Object(R.jsxs)($.a,{component:"main",className:e.main,maxWidth:"sm",children:[Object(R.jsx)(w.a,{variant:"h2",component:"h1",gutterBottom:!0,children:"Page Not Found"}),Object(R.jsxs)(w.a,{variant:"h5",component:"h2",gutterBottom:!0,children:["404."," ","Sorry , The Page you are looking for is Non-Existent or maybe under maintenance "]}),Object(R.jsx)(w.a,{variant:"body1",children:Object(R.jsx)(ee.a,{href:"/",children:"Navigate Back To Home Page."})})]}),Object(R.jsx)("footer",{className:e.footer,children:Object(R.jsxs)($.a,{maxWidth:"sm",children:[Object(R.jsx)(w.a,{variant:"body1",children:"Paul Ndam."}),Object(R.jsx)(Wt,{})]})})]})]})},Ht=a(323),Mt=a(181),Yt=a(180),qt=a.n(Yt),Kt=a(179),Qt=a.n(Kt),Vt=["component"],Xt=function(e){var t=e.component,a=Object(st.a)(e,Vt);return Object(R.jsx)(i.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return O.isAuthenticated()?Object(R.jsx)(t,Object(u.a)({},e)):Object(R.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},Zt=a(177),$t=a.n(Zt),ea=Object(f.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)},width:60,height:60,margin:"auto"},input:{display:"none"},filename:{marginLeft:"10px"},card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:e.spacing(5),paddingBottom:e.spacing(2)},title:{margin:e.spacing(2),color:e.palette.protectedTitle},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},submit:{margin:"auto",marginBottom:e.spacing(2)}}})),ta=function(e){var t=e.match,a=ea(),r=Object(n.useState)({name:"",email:"",about:"",photo:"",password:"",open:!1,error:"",id:"",redirectToProfile:!1}),c=Object(l.a)(r,2),o=c[0],s=c[1],p=O.isAuthenticated();Object(n.useEffect)((function(){var e=new AbortController,a=e.signal;return je({userId:t.params.userId},{t:p.token},a).then((function(e){console.log("=== Data Updating ==="),console.log(e),e&&e.error?s(Object(u.a)(Object(u.a)({},o),{},{error:e.error})):s(Object(u.a)(Object(u.a)({},o),{},{id:e._id,name:e.name,email:e.email,about:e.about}))})),function(){e.abort()}}),[t.params.userId]);var j=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;s(Object(u.a)(Object(u.a)({},o),{},Object(d.a)({},e,a)))}},b=o.id?"".concat("https://node-gram.herokuapp.com","/api/users/photo/").concat(o.id,"?").concat((new Date).getTime()," "):"".concat(it);return o.redirectToProfile?Object(R.jsx)(i.a,{to:"/user/".concat(o.id)}):Object(R.jsxs)("div",{children:[Object(R.jsx)(W,{}),Object(R.jsxs)(G.a,{className:a.card,children:[Object(R.jsxs)(M.a,{children:[Object(R.jsx)(w.a,{variant:"h6",className:a.title,children:"Edit Profile \ud83e\udd13"}),Object(R.jsx)(z.a,{src:b,className:a.bigAvatar}),Object(R.jsx)("br",{}),Object(R.jsx)("input",{accept:"image/*",onChange:j("photo"),className:a.input,id:"icon-button-file",type:"file"}),Object(R.jsx)("label",{htmlFor:"icon-button-file",children:Object(R.jsxs)(T.a,{variant:"contained",color:"default",component:"span",children:["Upload",Object(R.jsx)($t.a,{})]})})," ",Object(R.jsx)("span",{className:a.filename,children:o.photo?o.photo.name:""}),Object(R.jsx)("br",{}),Object(R.jsx)(We.a,{id:"name",label:"Name",className:a.textField,value:o.name,onChange:j("name"),margin:"normal"}),Object(R.jsx)("br",{}),Object(R.jsx)(We.a,{id:"email",type:"email",label:"Email",className:a.textField,value:o.email,onChange:j("email"),margin:"normal"}),Object(R.jsx)(We.a,{id:"multiline-flexible",type:"text",label:"About",rows:"2",multiline:!0,className:a.textField,value:o.about,onChange:j("about"),margin:"normal"}),Object(R.jsx)("br",{}),Object(R.jsx)(We.a,{id:"password",type:"password",label:"Password",className:a.textField,value:o.password,onChange:j("password"),margin:"normal"}),Object(R.jsx)("br",{})," ",o.error&&Object(R.jsxs)(w.a,{component:"p",color:"error",children:[Object(R.jsx)(Ve.a,{color:"error",className:a.error,children:"error"}),o.error]})]}),Object(R.jsx)(Y.a,{children:Object(R.jsx)(T.a,{color:"primary",variant:"contained",onClick:function(){var e=new FormData;o.name&&e.append("name",o.name),o.email&&e.append("email",o.email),o.passoword&&e.append("passoword",o.passoword),o.about&&e.append("about",o.about),o.photo&&e.append("photo",o.photo),be({userId:t.params.userId},{t:p.token},e).then((function(e){e&&e.error?s(Object(u.a)(Object(u.a)({},o),{},{error:e.error})):s(Object(u.a)(Object(u.a)({},o),{},{redirectToProfile:!0}))}))},className:a.submit,children:"Submit"})})]}),Object(R.jsx)(ne,{})]})},aa=a(178),na=a.n(aa),ra=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=(t[0],t[1],Object(n.useState)("")),r=Object(l.a)(a,2);r[0],r[1];return Object(n.useEffect)((function(){var e=na.a.parse(window.location.search).name;console.log("-----Seach Query string Information----"),console.table({name:e}),Oe({name:e}).then((function(e){console.log("--Listing SearchUsers Results---"),console.log(e)}))}),[]),Object(R.jsx)("div",{children:Object(R.jsx)("h1",{children:"Users"})})},ca=Object(Mt.a)({palette:{primary:{light:"#00352c",main:"#161D6F",dark:"#337066",contrastText:"#fff"},secondary:{light:"#87103f",main:"#c2185b",dark:"#ce467b ",contrastText:"#000"},background:{},openTitle:Qt.a[400],protectedTitle:qt.a[400],type:"light"}});var oa=function(){return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(Z.a,{}),Object(R.jsx)(s.a,{children:Object(R.jsx)(Ht.a,{theme:ca,children:Object(R.jsxs)(i.d,{children:[Object(R.jsx)(i.b,{exact:!0,path:"/",component:ot}),Object(R.jsx)(i.b,{exact:!0,path:"/search-results",component:ra}),Object(R.jsx)(i.b,{exact:!0,path:"/user-list",component:jt}),Object(R.jsx)(i.b,{exact:!0,path:"/signup",component:ft}),Object(R.jsx)(i.b,{exact:!0,path:"/signin",component:yt}),Object(R.jsx)(Xt,{path:"/user/edit/:userId",component:ta}),Object(R.jsx)(Xt,{exact:!0,path:"/user/:userId",component:Lt}),Object(R.jsx)(i.b,{exact:!0,path:"/*",component:Jt})]})})})]})},sa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,363)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(oa,{})}),document.getElementById("root")),sa()}},[[282,1,2]]]);
//# sourceMappingURL=main.08e9003c.chunk.js.map